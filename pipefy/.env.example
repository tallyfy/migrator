# Pipefy to Tallyfy Migration Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# PIPEFY API CONFIGURATION (SOURCE)
# ============================================

# Required: Pipefy API Token
# Get from: Settings → API & Webhooks → Personal Access Token
PIPEFY_API_TOKEN=your_pipefy_api_token_here

# Required: Pipefy Organization ID
# Find in: Organization Settings → General
PIPEFY_ORG_ID=your_pipefy_organization_id_here

# Optional: Override GraphQL endpoint (defaults to production)
# PIPEFY_API_URL=https://api.pipefy.com/graphql

# ============================================
# TALLYFY API CONFIGURATION (TARGET)
# ============================================

# Required: Tallyfy OAuth2 Credentials
# Get from: Admin → API → OAuth Applications
TALLYFY_API_URL=https://api.tallyfy.com
TALLYFY_CLIENT_ID=your_tallyfy_client_id_here
TALLYFY_CLIENT_SECRET=your_tallyfy_client_secret_here

# Required: Tallyfy Organization Details
TALLYFY_ORG_ID=your_tallyfy_organization_id_here
TALLYFY_ORG_SLUG=your_tallyfy_organization_slug_here

# ============================================
# EXTERNAL SYSTEMS (CRITICAL FOR PIPEFY)
# ============================================

# Database for Pipefy Tables (REQUIRED if you have tables)
# PostgreSQL example:
DATABASE_URL=postgresql://username:password@localhost:5432/pipefy_migration

# MySQL example:
# DATABASE_URL=mysql://username:password@localhost:3306/pipefy_migration

# Airtable alternative (if not using PostgreSQL):
# AIRTABLE_API_KEY=your_airtable_api_key
# AIRTABLE_BASE_ID=your_airtable_base_id

# ============================================
# FILE STORAGE (for attachments > 100MB)
# ============================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
S3_BUCKET=your-migration-bucket-name

# Alternative: Azure Blob Storage
# AZURE_STORAGE_CONNECTION_STRING=your_azure_connection_string
# AZURE_CONTAINER_NAME=migration-container

# Alternative: Google Cloud Storage
# GCS_PROJECT_ID=your_project_id
# GCS_BUCKET_NAME=your_bucket_name
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# ============================================
# AUTOMATION PLATFORM (for complex automations)
# ============================================

# Webhook endpoint for automations
AUTOMATION_WEBHOOK_URL=https://your-automation-platform.com/webhook

# n8n Configuration
# N8N_API_KEY=your_n8n_api_key
# N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/migration

# Zapier Configuration
# ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/YOUR_HOOK

# Make (Integromat) Configuration
# MAKE_WEBHOOK_URL=https://hook.integromat.com/YOUR_WEBHOOK

# ============================================
# NOTIFICATIONS (OPTIONAL)
# ============================================

# Slack notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Microsoft Teams notifications
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR_WEBHOOK

# Email notifications (SMTP)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# NOTIFICATION_EMAIL_TO=admin@company.com

# ============================================
# MIGRATION SETTINGS (OPTIONAL)
# ============================================

# Override default batch sizes
# BATCH_SIZE_CARDS=20
# BATCH_SIZE_USERS=100
# BATCH_SIZE_TABLE_RECORDS=1000

# Override timeouts (seconds)
# GRAPHQL_TIMEOUT=30
# FILE_UPLOAD_TIMEOUT=180
# DATABASE_TIMEOUT=60

# Migration behavior
# DRY_RUN=false
# SKIP_TABLES=false
# SKIP_AUTOMATIONS=false
# SKIP_LARGE_FILES=false
# CONTINUE_ON_ERROR=true

# Parallel processing
# PARALLEL_WORKERS=4
# MAX_CONCURRENT_REQUESTS=10

# ============================================
# LOGGING & MONITORING (OPTIONAL)
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# LOG_LEVEL=INFO

# Sentry error tracking
# SENTRY_DSN=https://your_key@sentry.io/project_id

# Datadog APM
# DD_API_KEY=your_datadog_api_key
# DD_APP_KEY=your_datadog_app_key

# Prometheus metrics
# PROMETHEUS_PORT=9090
# METRICS_ENABLED=true

# ============================================
# ADVANCED SETTINGS (OPTIONAL)
# ============================================

# GraphQL query optimization
# GRAPHQL_MAX_DEPTH=5
# GRAPHQL_BATCH_SIZE=10
# GRAPHQL_USE_FRAGMENTS=true

# Cache settings
# CACHE_ENABLED=true
# CACHE_TTL=300
# REDIS_URL=redis://localhost:6379/0

# Memory limits
# MAX_MEMORY_MB=4096
# GC_THRESHOLD=1000

# Rate limiting
# PIPEFY_REQUESTS_PER_MINUTE=100
# TALLYFY_REQUESTS_PER_MINUTE=100

# Retry configuration
# MAX_RETRIES=3
# RETRY_DELAY=5
# RETRY_BACKOFF_FACTOR=2

# ============================================
# SECURITY (OPTIONAL)
# ============================================

# Encryption for sensitive data
# ENCRYPTION_KEY=your_32_character_encryption_key_here

# API key for migration dashboard
# DASHBOARD_API_KEY=your_dashboard_api_key

# Webhook validation
# WEBHOOK_SECRET=your_webhook_secret

# ============================================
# DEBUG (Development only)
# ============================================

# Debug mode (DO NOT USE IN PRODUCTION)
# DEBUG=false
# SAVE_RAW_RESPONSES=false
# LOG_GRAPHQL_QUERIES=false
# PROFILE_PERFORMANCE=false