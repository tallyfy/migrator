# Process Street to Tallyfy Migration Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# PROCESS STREET API CONFIGURATION (SOURCE)
# ============================================

# Required: Process Street API Key
# Get from: Settings → API & Webhooks → Personal Access Token
# Note: Enterprise plan required for API access
PROCESS_STREET_API_KEY=your_process_street_api_key_here

# Optional: Process Street Organization ID
# Find in: Organization Settings
# If not provided, will be auto-detected from API key
PS_ORGANIZATION_ID=

# Optional: Override API URL (defaults to v1.1)
# PS_API_URL=https://public-api.process.st/api/v1.1

# ============================================
# TALLYFY API CONFIGURATION (TARGET)
# ============================================

# Required: Tallyfy OAuth2 Credentials
# Get from: Admin → API → OAuth Applications
TALLYFY_API_URL=https://api.tallyfy.com
TALLYFY_CLIENT_ID=your_tallyfy_client_id_here
TALLYFY_CLIENT_SECRET=your_tallyfy_client_secret_here

# Required: Tallyfy Organization Details
TALLYFY_ORG_ID=your_tallyfy_organization_id_here
TALLYFY_ORG_SLUG=your_tallyfy_organization_slug_here

# ============================================
# AI CONFIGURATION (OPTIONAL BUT RECOMMENDED)
# ============================================

# Anthropic API for intelligent migration decisions
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# AI Model Selection
# claude-3-haiku-20240307 = Fast and cheap for simple decisions
# claude-3-sonnet-20240229 = More accurate for complex mappings
AI_MODEL=claude-3-haiku-20240307

# AI Temperature (0 = deterministic, 0.3 = slightly creative)
AI_TEMPERATURE=0

# Max tokens for AI responses (keep low for cost efficiency)
AI_MAX_TOKENS=500

# ============================================
# MIGRATION OPTIONS (OPTIONAL)
# ============================================

# Migration behavior
# DRY_RUN=false              # Test without making changes
# CONTINUE_ON_ERROR=true     # Continue if individual items fail
# SKIP_COMPLETED=false       # Skip completed processes
# BATCH_SIZE=20              # Items per batch

# Data filtering
# MIGRATE_ACTIVE_ONLY=false  # Only migrate active workflows
# INCLUDE_ARCHIVED=false     # Include archived items
# CUTOFF_DATE=2024-01-01     # Only migrate items after this date

# Performance tuning
# MAX_RETRIES=3              # API retry attempts
# RETRY_DELAY=5              # Seconds between retries
# RATE_LIMIT_DELAY=1         # Seconds between API calls
# PARALLEL_WORKERS=1         # Concurrent operations (use with caution)

# ============================================
# FILE STORAGE (OPTIONAL)
# ============================================

# For large file attachments
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_REGION=us-east-1
# S3_BUCKET=migration-files

# Alternative: Local file storage
# LOCAL_FILE_STORAGE=/path/to/storage/directory

# ============================================
# NOTIFICATIONS (OPTIONAL)
# ============================================

# Slack notifications for migration status
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# SLACK_CHANNEL=#migrations
# SLACK_USERNAME=Migration Bot

# Email notifications (SMTP)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# NOTIFICATION_EMAIL_TO=admin@company.com

# Microsoft Teams notifications
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR_WEBHOOK

# ============================================
# PATHS AND DIRECTORIES (OPTIONAL)
# ============================================

# Override default paths (relative to project root)
# All paths will be created automatically if they don't exist

# Data storage
# MIGRATION_DATA_DIR=./data
# MIGRATION_CHECKPOINT_DIR=./data/checkpoints
# MIGRATION_CACHE_DIR=./data/cache
# MIGRATION_BACKUP_DIR=./data/backup

# Logging
# MIGRATION_LOG_DIR=./logs
# LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Reports
# MIGRATION_REPORT_DIR=./reports

# ============================================
# DATABASE (OPTIONAL)
# ============================================

# SQLite database for ID mappings (default: ./data/mappings.db)
# MAPPING_DATABASE_PATH=./data/mappings.db

# Optional: PostgreSQL for advanced tracking
# TRACKING_DATABASE_URL=postgresql://user:pass@localhost:5432/migration_tracking

# ============================================
# ADVANCED SETTINGS (OPTIONAL)
# ============================================

# API Configuration
# PS_API_TIMEOUT=30          # Request timeout in seconds
# TALLYFY_API_TIMEOUT=30     # Request timeout in seconds

# Memory management
# MAX_MEMORY_MB=4096         # Maximum memory usage
# GC_THRESHOLD=1000          # Garbage collection threshold

# Cache settings
# CACHE_ENABLED=true         # Enable caching
# CACHE_TTL=300              # Cache time-to-live in seconds
# REDIS_URL=redis://localhost:6379/0  # Optional Redis cache

# Security
# ENCRYPT_SENSITIVE_DATA=false  # Encrypt sensitive fields
# ENCRYPTION_KEY=               # 32-character encryption key

# ============================================
# DEBUG AND DEVELOPMENT (OPTIONAL)
# ============================================

# Debug mode (DO NOT USE IN PRODUCTION)
# DEBUG=false
# VERBOSE_LOGGING=false
# SAVE_RAW_RESPONSES=false   # Save API responses for debugging
# PROFILE_PERFORMANCE=false  # Enable performance profiling

# Development API endpoints
# PS_API_MOCK=false          # Use mock Process Street API
# TALLYFY_API_MOCK=false     # Use mock Tallyfy API

# ============================================
# MONITORING (OPTIONAL)
# ============================================

# Sentry error tracking
# SENTRY_DSN=https://your_key@sentry.io/project_id

# Datadog APM
# DD_API_KEY=your_datadog_api_key
# DD_APP_KEY=your_datadog_app_key
# DD_SERVICE=process-street-migration

# Prometheus metrics
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=9090

# ============================================
# MIGRATION SCOPE (OPTIONAL)
# ============================================

# Specific items to migrate (comma-separated IDs)
# WORKFLOW_IDS=wf123,wf456,wf789
# USER_IDS=user1,user2,user3
# GROUP_IDS=group1,group2

# Exclude specific items (comma-separated IDs)
# EXCLUDE_WORKFLOW_IDS=
# EXCLUDE_USER_IDS=
# EXCLUDE_GROUP_IDS=

# ============================================
# POST-MIGRATION (OPTIONAL)
# ============================================

# Validation settings
# VALIDATE_AFTER_MIGRATION=true
# VALIDATION_SAMPLE_SIZE=10    # Number of items to validate

# Rollback configuration
# ENABLE_ROLLBACK=true         # Allow rollback capability
# ROLLBACK_WINDOW_HOURS=24     # Hours to keep rollback data

# Sync settings (for parallel operation)
# ENABLE_SYNC_MODE=false       # Keep systems in sync
# SYNC_INTERVAL_MINUTES=60     # Sync frequency